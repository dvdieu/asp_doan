@section title
{
    Chi tiết đơn hàng
}
@section css
{
    <link href="~/Assets/bootstrap-select-1.10.0/css/bootstrap-select.min.css" rel="stylesheet" />
    <link href="~/Assets/bootstrap-touchspin-master/dist/jquery.bootstrap-touchspin.min.css" rel="stylesheet" />
    <link href="~/Areas/Admin/Assets/sweetalert2/sweetalert2.min.css" rel="stylesheet" />
    <link href="~/Areas/Admin/Assets/datatables/media/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="~/Areas/Admin/Assets/datatables/media/css/dataTables.jqueryui.min.css" rel="stylesheet" />
    <style type="text/css">
        .mytouchspin {
            width: 70px;
        }
    </style>
}
@using DoAnWeb.Areas.Admin.Models
@model Poco_DonHang_ChiTiet

<form class="form-horizontal" method="post" action="" enctype="multipart/form-data" id="frmEdit">
    <div class="panel panel-info">
        <div class="panel-heading">Thông tin đơn hàng</div>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-sm-2 control-label">Mã đơn hàng</label>
                <div class="col-sm-4">
                    <input type="text" readonly="readonly" class="form-control" name="PhieuOrderID" value="@Model.ThongTinDonHang.MaDonHang">
                </div>
                <label class="col-sm-2 control-label">Ngày đặt</label>
                <div class="col-sm-4">
                    <input type="text" readonly="readonly" class="form-control" value="@Model.ThongTinDonHang.NgayLapPhieu">
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-primary">
        <div class="panel-heading">Thông tin khách hàng</div>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-sm-2 control-label">Khách hàng</label>
                <div class="col-sm-4">
                    <input type="text" readonly="readonly" class="form-control" name="PhieuOrderID" value="@Model.ThongTinKhachHang.TenKhachHang">
                </div>
                <label class="col-sm-2 control-label">Số điện thoại</label>
                <div class="col-sm-4">
                    <input type="text" readonly="readonly" class="form-control" value="@Model.ThongTinDonHang.SoDienThoaiNhanHang">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Địa chỉ nhận hàng</label>
                <div class="col-sm-10">
                    <input type="text" readonly="readonly" class="form-control" value="@Model.ThongTinDonHang.DiaChiGiaoHang">
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-danger">
        <div class="panel-heading">Chi tiết đơn hàng</div>
        <div class="panel-body">
            <div class="table-responsive">
                <table id="myTable" class="table table-striped table-bordered" cellspacing="0">
                    <thead>
                        <tr>
                            <th class="text-center">Hình ảnh</th>
                            <th class="text-center">Tên sản phẩm</th>
                            <th class="text-center">Số lượng</th>
                            <th class="text-center">Đơn giá</th>
                            <th class="text-center">Thành Tiền</th>
                        </tr>
                    </thead>
                    <tbody class="text-right">
                        @foreach (Poco_ChiTiet_Order item in Model.ChiTietDonHang)
                        {
                            <tr>
                                <td>
                                    <img src="~/image/@item.SanPhamID/main_thumn.jpg" style="width:58px;height:58px;" class="text-center" />
                                </td>
                                <td class="text-center">
                                    @item.TenSanPham
                                </td>
                                <td class="text-center">
                                    @item.DonGia
                                </td>
                                <td class="text-center">
                                    @item.SoLuong
                                </td>
                                <td class="text-center">
                                    @string.Format("{0:N0}", @item.ThanhTien) VND
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</form>
@section js
{
    <script src="~/Assets/bootstrap-select-1.10.0/js/bootstrap-select.min.js"></script>
    <script src="~/Assets/bootstrap-touchspin-master/dist/jquery.bootstrap-touchspin.min.js"></script>
    <script src="~/Areas/Admin/Assets/tinymce/tinymce.min.js"></script>
    <script src="~/Areas/Admin/Assets/bootstrap-filestyle.js"></script>
    <script src="~/Areas/Admin/Assets/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="~/Areas/Admin/Assets/sweetalert2/sweetalert2.min.js"></script>
    <script type="text/javascript">
        $('#myTable').DataTable();
        $("input[name='Gia']").TouchSpin({
            min: 0,
            max: 9999999999999,
            step: 1,
            decimals: 0,
            boostat: 5,
            maxboostedstep: 500,
            postfix: 'VND',
            postfix_extraclass: "mytouchspin"
        });
        $("input[name='SoLuong']").TouchSpin({
            min: 0,
            max: 9999999999999,
            step: 1,
            decimals: 0,
            boostat: 5,
            maxboostedstep: 500,
            postfix: 'Chai',
            postfix_extraclass: "mytouchspin"
        });
        $("input[name='DungTich']").TouchSpin({
            min: 0,
            max: 10000,
            step: 1,
            decimals: 0,
            boostat: 5,
            maxboostedstep: 500,
            postfix: 'ml',
            postfix_extraclass: "mytouchspin"
        });
        $("input[name='NongDo']").TouchSpin({
            min: 0,
            max: 100,
            step: 1,
            decimals: 0,
            boostat: 5,
            maxboostedstep: 500,
            postfix: '&#870;',
            postfix_extraclass: "mytouchspin"
        });
        tinymce.init({
            selector: '#myTextarea',
            theme: 'modern',
            height: 300,
            plugins: [
              'advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker',
              'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking',
              'save table contextmenu directionality emoticons template paste textcolor'
            ],
            content_css: 'css/content.css',
            toolbar: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons',
            encoding: "hmtml"
        });
        $(":file").filestyle({ buttonName: "btn-primary" });
        $('#btnDelete').click(function () {
            swal({
                title: 'Bạn đang thực hiện thao tác nguy hiểm',
                text: "Bạn thực sự muốn xóa sản phẩm này",
                type: 'warning',
                cancelButtonText: 'Hủy bỏ',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Xác nhận'
            }).then(function () {
                swal(
                  'Đã xóa!',
                  'Sản phẩm này đã bị xóa.',
                  'success'
                ),
                $('#frmDelete').submit();
            })
        });
        $('#btnSave').click(function () {
            swal({
                title: 'Bạn đang thực hiện thao tác nguy hiểm',
                text: "Bạn muốn cập nhập thông cho sản phẩm",
                type: 'warning',
                cancelButtonText: 'Hủy bỏ',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Xác nhận'
            }).then(function () {
                swal(
                  'Hoàn tất!',
                  'Đã chỉnh sửa',
                  'success'
                ),
                $('#frmEdit').submit();
            })
        });
    </script>
}